<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Gold Rate</title>
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
</head>
<body>
    <div class="container">
        <div class="input-group" id="gold-rate-group">
            <input type="text" class="form-control" id="gold-rate-input" placeholder="Gold Rate" readonly>
            <span class="input-group-btn">
                <button class="btn btn-default" type="button" onclick="fetchGoldRate()"><i class="icon-refresh"></i> Refresh</button>
            </span>
        </div>
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
    <script>
        function fetchGoldRate() {
            const apiKey = 'goldapi-1c7idhslx6i2ty2-io'; 
            const goldApiUrl = 'https://www.goldapi.io/api/XAU/USD';
            const exchangeRateApiUrl = 'https://api.exchangerate-api.com/v4/latest/USD';

            
            $.ajax({
                url: goldApiUrl,
                method: 'GET',
                headers: {
                    'x-access-token': apiKey,
                    'Content-Type': 'application/json'
                },
                success: function(goldData) {
                    if (goldData.price) {
                       
                        $.get(exchangeRateApiUrl, function(exchangeData) {
                            if (exchangeData.rates.INR) {
                                const usdToInr = exchangeData.rates.INR;
                                const goldRatePerOz = goldData.price;
                                const goldRatePerGram = (goldRatePerOz / 31.1035) * usdToInr;
                                $('#gold-rate-input').val(goldRatePerGram.toFixed(2) + ' INR/gram');
                            } else {
                                alert('Failed to fetch exchange rate');
                            }
                        }).fail(function() {
                            alert('Error fetching exchange rate');
                        });
                    } else {
                        alert('Failed to fetch gold rate: ' + (goldData.error ? goldData.error : 'Unknown error'));
                    }
                },
                error: function(xhr, status, error) {
                    alert('Error fetching gold rate: ' + error);
                }
            });
        }

        
        $(document).ready(function() {
            fetchGoldRate();
        });
    </script>
</body>
</html>
